"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("Valence requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:void 0,function(e){function t(e,t,o){this.lib_version=e,this.api_version=1.15,this.call=t,this.ou=this.getOU(),this.api_base_string=this.getCall(this.call,this.api_version,this.ou),this.callback=o,this.response={},this.asyncr=!!arguments[2],this.fetch(this.asyncr)}t.prototype={fetch:function(e){var t=new XMLHttpRequest,o=this,n=e;t.open("GET",this.api_base_string,n),t.onload=function(){var e=JSON.parse(this.responseText);o.response=e,o.callback?o.callback(e):console.warn("You have done a synchronous request.  Are you sure you want to continue?")},t.onerror=function(e){console.warn("Can not retrieve API data",e,t.statusText)},t.setRequestHeader("Content-Type","application/json"),t.send()},getOU:function(){var t=e.location.pathname.split("/")[4]||e.location.pathname.split("/")[3];return t},getCall:function(e,t,o){var n={whoami:"/d2l/api/lp/"+t+"/users/whoami",getFinalGrade:"/d2l/api/le/"+t+"/"+o+"/grades/values/myGradeValues/"};if(void 0===n[e]){var i=e;return console.warn("API call not found in library directory"),console.warn("Is this the one you wanted? ",i),i}return n[e]}},e.valence=function(e,o){var n="2.0.0",i=new t(n,e,o);return i}});
