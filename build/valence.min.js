"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("Valence requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:void 0,function(t){function e(t,e,o){this.lib_version=t,this.api_version=1.15,this.call=e,this.ou=this.getOU(),this.api_base_string=this.getCall(this.call,this.api_version,this.ou),this.callback=o,this.response={},this.asyncr=!!arguments[2],this.fetch(this.asyncr)}e.prototype={fetch:function(t){var e=new XMLHttpRequest,o=this,n=t;return e.open("GET",this.api_base_string,n),e.onload=function(){var t=JSON.parse(this.responseText);o.response=t,o.callback?o.callback(t):console.warn("You have done a synchronous request.  Are you sure you want to continue?")},e.onerror=function(t){console.warn("Can not retrieve API data",t,e.statusText)},e.setRequestHeader("Content-Type","application/json"),e.send(),this},getOU:function(){var e=t.location.pathname.split("/")[4]||t.location.pathname.split("/")[3];return e},getCall:function(t,e,o){var n={whoami:"/d2l/api/lp/"+e+"/users/whoami",getFinalGrade:"/d2l/api/le/"+e+"/"+o+"/grades/values/myGradeValues/"};return n[t]}},t.valence=function(t,o){var n="2.0.0",i=new e(n,t,o);return i}});
